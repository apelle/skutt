alter table book drop constraint FK2E3AE9F6A8116A;
alter table book drop constraint FK2E3AE9FC9217AF;
alter table review drop constraint FKC84EF7586B1E4B7F;
alter table review drop constraint FKC84EF7585E87083F;
drop table book if exists;
drop table review if exists;
drop table user if exists;
create table book (id bigint generated by default as identity (start with 1), version bigint not null, checked_out_by_id bigint, checkout_date timestamp, date_created timestamp not null, isbn varchar(255) not null, last_updated timestamp not null, title varchar(255) not null, updated_by_id bigint, primary key (id));
create table review (id bigint generated by default as identity (start with 1), version bigint not null, book_id bigint not null, date_created timestamp not null, last_updated timestamp not null, score integer not null, text varchar(255) not null, user_id bigint not null, primary key (id), unique (user_id, book_id));
create table user (id bigint generated by default as identity (start with 1), version bigint not null, last_login timestamp, user_id varchar(255) not null, primary key (id), unique (user_id));
alter table book add constraint FK2E3AE9F6A8116A foreign key (checked_out_by_id) references user;
alter table book add constraint FK2E3AE9FC9217AF foreign key (updated_by_id) references user;
alter table review add constraint FKC84EF7586B1E4B7F foreign key (book_id) references book;
alter table review add constraint FKC84EF7585E87083F foreign key (user_id) references user;
